{"version":3,"sources":["consts/songStatus.js","consts/songMode.js","actions/currentSongAction.js","actions/modeAction.js","reducers/songsReducer.js","reducers/currentSongReducer.js","reducers/modeReducer.js","reducers/index.js","component/Song.js","actions/songsAction.js","component/SongBar.js","component/Controler.js","component/SongMode.js","App.js","reportWebVitals.js","index.js"],"names":["Status","Mode","NONE","PLAY","PAUSE","RESUME","TICKING","play","index","type","pause","resume","MODE_CHANGE","modeChange","payload","initData","name","artist","isStar","length","status","second","mode","combineReducers","songs","state","action","slice","currentSong","ACTIONS","mapDispatch2Props","toggleStar","connect","num","className","onClick","bind","this","data-star","timeform","time","Math","floor","none","ticking","sec","useEffect","interval","setInterval","clearInterval","len","expectIndex","arr","Array","keys","random","getRandomExcept","style","width","store","createStore","reducers","window","__REDUX_DEVTOOLS_EXTENSION__","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87c6237e.chunk.js","sourcesContent":["const NONE = 'NONE';\r\nconst PLAYING = 'PLAYING';\r\nconst PAUSING = 'PAUSING';\r\n\r\nexport const Status = {\r\n  NONE,\r\n  PLAYING,\r\n  PAUSING,\r\n};\r\n","const ALL = 'ALL';\r\nconst RANDOM = 'RANDOM';\r\nconst ONE = 'ONE';\r\n\r\nexport const Mode = {\r\n  ALL,\r\n  RANDOM,\r\n  ONE,\r\n};\r\n","export const CURRENT_SONG_CHANGE = 'CURRENT_SONG_CHANGE';\r\nexport const NONE = 'NONE';\r\nexport const PLAY = 'PLAY';\r\nexport const PAUSE = 'PAUSE';\r\nexport const RESUME = 'RESUME';\r\nexport const TICKING = 'TICKING';\r\n\r\nexport function none() {\r\n  return {\r\n    type: NONE,\r\n  };\r\n}\r\n\r\nexport function play(index) {\r\n  return {\r\n    type: PLAY,\r\n    index,\r\n  };\r\n}\r\n\r\nexport function pause() {\r\n  return {\r\n    type: PAUSE,\r\n  };\r\n}\r\n\r\nexport function resume() {\r\n  return {\r\n    type: RESUME,\r\n  };\r\n}\r\n\r\nexport function ticking() {\r\n  return {\r\n    type: TICKING,\r\n  };\r\n}\r\n","export const MODE_CHANGE = 'MODE_CHANGE';\r\n\r\nexport function modeChange(payload) {\r\n  return {\r\n    type: MODE_CHANGE,\r\n    payload,\r\n  };\r\n}","export const initData = [\r\n  { name: 'song1', artist: 'artist1', isStar: false, length: 180 },\r\n  { name: 'song2', artist: 'artist2', isStar: false, length: 195 },\r\n  { name: 'song3', artist: 'artist3', isStar: false, length: 212 },\r\n  { name: 'song4', artist: 'artist4', isStar: false, length: 168 },\r\n  { name: 'song5', artist: 'artist5', isStar: false, length: 245 },\r\n  { name: 'song6', artist: 'artist6', isStar: false, length: 200 },\r\n  { name: 'song7', artist: 'artist7', isStar: false, length: 197 },\r\n  { name: 'song8', artist: 'artist8', isStar: false, length: 182 },\r\n  { name: 'song9', artist: 'artist9', isStar: false, length: 204 },\r\n];\r\n\r\nexport default function songsReducer(state = initData, action) {\r\n  switch (action.type) {\r\n  case 'TOGGLE_STAR':\r\n    return [\r\n      ...state.slice(0, action.index),\r\n      {\r\n        ...state[action.index],\r\n        isStar: !state[action.index].isStar,\r\n      },\r\n      ...state.slice(action.index + 1),\r\n    ];\r\n  default:\r\n    return state;\r\n  }\r\n}","import { Status } from \"../consts\";\r\nimport * as ACTIONS from \"../actions\";\r\n\r\nexport const initData = {\r\n  index: 0,\r\n  status: Status.NONE, // none, playing, pausing\r\n  second: null,\r\n};\r\n\r\nexport default function currentSongReducer(state = initData, action) {\r\n  switch (action.type) {\r\n  case ACTIONS.NONE:\r\n    return {\r\n      ...state,\r\n      status: Status.NONE,\r\n      second: null,\r\n    };\r\n  case ACTIONS.PLAY:\r\n    return {\r\n      index: action.index,\r\n      status: Status.PLAYING,\r\n      second: 0,\r\n    };\r\n  case ACTIONS.PAUSE:\r\n    return {\r\n      ...state,\r\n      status: Status.PAUSING,\r\n    };\r\n  case ACTIONS.RESUME:\r\n    return {\r\n      ...state,\r\n      status: Status.PLAYING,\r\n    };\r\n\r\n  case ACTIONS.TICKING:\r\n    return{\r\n      ...state,\r\n      second: state.second + 1,\r\n    };\r\n    // case 'CHANGE_STATUS':\r\n    //   return {\r\n    //     ...state,\r\n    //     status: action.status,\r\n    //   }\r\n    // case 'CHANGE_SONG':\r\n    //   return {\r\n    //     ...state,\r\n    //     index: action.index,\r\n    //   }\r\n  default:\r\n    return state;\r\n  }\r\n}","import { MODE_CHANGE } from '../actions/modeAction';\r\nimport { Mode } from \"../consts\";\r\n\r\nexport const initData = {\r\n  mode: Mode.ONE\r\n};\r\n\r\nexport default function modeReducer(state = initData, action) {\r\n  switch (action.type) {\r\n  case MODE_CHANGE:\r\n    return {\r\n      ...state,\r\n      ...action.payload,\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport songs, { initData } from \"./songsReducer\";\r\nimport currentSong from \"./currentSongReducer\";\r\nimport mode from \"./modeReducer\";\r\n\r\nexport default combineReducers({\r\n  songs,\r\n  currentSong,\r\n  mode,\r\n});","import React from 'react';\r\n// import cx from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport { Status } from \"../consts\";\r\nimport { toggleStar, play, pause, resume } from '../actions';\r\nimport './Song.css';\r\n\r\n\r\n\r\nfunction Song({ songs, status, pause, play, resume, num, index, toggleStar }) {\r\n  return (\r\n    <div className=\"song playButton\">\r\n      {index !== num ?\r\n        <div className=\"button playSign sign\" onClick={play.bind(this, num)} /> :\r\n        status === Status.PLAYING ?\r\n          <div className=\"button current pauseSign sign\" onClick={pause} /> :\r\n          status === Status.PAUSING ?\r\n            <div className=\"button current playSign sign\" onClick={resume} /> :\r\n            <div className=\"button current playSign sign\" onClick={play.bind(this, num)} />\r\n      }\r\n      {/* {\r\n        index === num ? <button onClick={play(num)}> play </button> :\r\n          <button onClick={play(num)}> none </button>} */}\r\n      <div\r\n        className=\"starButton\"\r\n        onClick={toggleStar.bind(this, num)}\r\n        data-star={songs[num].isStar ? '★': '☆'}\r\n      />\r\n      {/* {songs[num].isStar ?\r\n        <div className=\"starButton isStar\" onClick={toggleStar.bind(this, num)}>★</div> :\r\n        <div className=\"starButton\" onClick={toggleStar.bind(this, num)}>☆</div>\r\n      } */}\r\n      <div className=\"songsData\">\r\n        <div className=\"songData\"> {songs[num].name} </div>\r\n        <div className=\"songData\"> {songs[num].artist} </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapState2Props(state) {\r\n  return {\r\n    songs: state.songs,\r\n    index: state.currentSong.index,\r\n    status: state.currentSong.status,\r\n  };\r\n}\r\n\r\nconst mapDispatch2Props = {\r\n  play,\r\n  pause,\r\n  resume,\r\n  toggleStar,\r\n};\r\n\r\nexport default connect(mapState2Props, mapDispatch2Props)(Song);","export const TOGGLE_STAR = 'TOGGLE_STAR';\r\n\r\nexport function toggleStar(index) {\r\n  return {\r\n    type: TOGGLE_STAR,\r\n    index,\r\n  };\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Status, Mode } from \"../consts\";\r\nimport { ticking, none, play } from \"../actions/currentSongAction\";\r\nimport { modeChange } from \"../actions/modeAction\";\r\nimport \"./SongBar.css\";\r\n\r\nconst getRandomExcept = (len, expectIndex) => {\r\n  const arr = [...Array(len).keys()];\r\n  const expArr = [\r\n    ...arr.slice(0, expectIndex),\r\n    ...arr.slice(expectIndex + 1),\r\n  ];\r\n  return expArr[ ~~(Math.random() * (len - 1)) ];\r\n};\r\n\r\n// const getRandom = (max, min = 0) => {\r\n//   return ~~(Math.random() * (max - min + 1)) + min;\r\n// };\r\n\r\n// const randomSong = ( songNum, currentIndex ) => {\r\n//   return [\r\n//     ...[...Array(songNum).keys()].slice(0, currentIndex),\r\n//     ...[...Array(songNum).keys()].slice(currentIndex + 1)\r\n//   ];\r\n// };\r\n\r\nconst timeform = (time) => {\r\n  return `${Math.floor(time / 60)}:${(\"\" + time % 60).length === 1 ? \"0\" + (time % 60) : (time % 60)}`;\r\n  // return (\r\n  //   Math.floor(time / 60) + \":\" +\r\n  //   (\"\" + time % 60).length === 1 ? \"0\" + (time % 60) : (time % 60)\r\n  // );\r\n};\r\n\r\nfunction SongBar({sec, index, status, length, ticking, none, mode, play, songs, }) {\r\n  // const [sec, setSec] = useState(0);\r\n\r\n  // useEffect(() => {\r\n  //   const interval = setInterval(() => {\r\n  //     setSec(sec + 1);\r\n  //   }, 1000);\r\n  //   return () => {\r\n  //     clearInterval(interval);\r\n  //   };\r\n  // }, [sec]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if(status === Status.PLAYING) {\r\n      interval = setInterval(() => {\r\n        ticking();\r\n      }, 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    // console.log(index);\r\n    if(sec > length) {\r\n      if(mode === Mode.ONE) {none();}\r\n      if(mode === Mode.ALL) {\r\n        index === songs.length - 1 ? none() : play(index + 1);\r\n      }\r\n      if(mode === Mode.RANDOM) {\r\n        play(getRandomExcept(songs.length, index));\r\n        // play(randomSong(songs.length, index)[getRandom(songs.length - 2)]);\r\n      }\r\n    }\r\n  }, [sec]);\r\n\r\n  return (\r\n    <div className=\"SongBar\">\r\n      <div className=\"bar\">\r\n        <div className=\"progress\" style={{width: `${sec/length*100}%`}} />\r\n      </div>\r\n      <div className=\"passTime\">{timeform(sec)}</div>\r\n      <div className=\"lastTime\">{\"-\" + timeform(length - sec)}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapState2Props(state) {\r\n  return {\r\n    songs: state.songs,\r\n    mode: state.mode.mode,\r\n    sec: state.currentSong.second,\r\n    index: state.currentSong.index,\r\n    status: state.currentSong.status,\r\n    length: state.songs[state.currentSong.index].length,\r\n  };\r\n}\r\nconst mapDispatch2Props = {\r\n  none,\r\n  play,\r\n  ticking,\r\n  modeChange,\r\n};\r\n\r\nexport default connect(mapState2Props, mapDispatch2Props)(SongBar);","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Status, Mode } from \"../consts\";\r\nimport { play, pause, resume } from \"../actions/currentSongAction\";\r\nimport \"./Controler.css\";\r\n\r\nconst getRandomExcept = (len, expectIndex) => {\r\n  const arr = [...Array(len).keys()];\r\n  const expArr = [\r\n    ...arr.slice(0, expectIndex),\r\n    ...arr.slice(expectIndex + 1),\r\n  ];\r\n  return expArr[ ~~(Math.random() * (len - 1)) ];\r\n};\r\n\r\nfunction Controler({ status, pause, play, resume, index, mode, songs, }) {\r\n\r\n  const lastSong = () => {\r\n    mode === Mode.RANDOM ? play(getRandomExcept(songs.length, index)) :\r\n      index === 0 ? play(songs.length - 1) : play(index - 1);\r\n  };\r\n\r\n  const nextSong = () => {\r\n    mode === Mode.RANDOM ? play(getRandomExcept(songs.length, index)) :\r\n      index === songs.length - 1 ? play(0) : play(index + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"Controller\">\r\n      <div\r\n        className=\"lastSong bigSign\"\r\n        onClick={lastSong}\r\n      />\r\n      {status === Status.PLAYING ?\r\n        <div className=\"bigPauseSign bigSign\" onClick={pause} /> :\r\n        status === Status.PAUSING ?\r\n          <div className=\"bigPlaySign bigSign\" onClick={resume} /> :\r\n          <div className=\"bigPlaySign bigSign\" onClick={play.bind(this, index)} />\r\n      }\r\n      <div\r\n        className=\"nextSong bigSign\"\r\n        onClick={nextSong}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nfunction mapState2Props(state) {\r\n  return {\r\n    songs: state.songs,\r\n    mode: state.mode.mode,\r\n    index: state.currentSong.index,\r\n    status: state.currentSong.status,\r\n  };\r\n}\r\nconst mapDispatch2Props = {\r\n  play,\r\n  pause,\r\n  resume,\r\n};\r\n\r\nexport default connect(mapState2Props, mapDispatch2Props)(Controler);","import React from 'react';\r\nimport { Mode } from \"../consts\";\r\nimport { connect } from 'react-redux';\r\nimport { modeChange } from \"../actions/modeAction\";\r\nimport \"./SongMode.css\";\r\n\r\nfunction SongMode({mode, modeChange}) {\r\n  return (\r\n    <div>\r\n      {mode === Mode.ONE ? <button onClick={modeChange.bind(this, {mode: Mode.ALL})}> {Mode.ONE} </button> :\r\n        mode === Mode.ALL ? <button onClick={modeChange.bind(this, {mode: Mode.RANDOM})}> {Mode.ALL} </button> :\r\n          mode === Mode.RANDOM ? <button onClick={modeChange.bind(this, {mode: Mode.ONE})}> {Mode.RANDOM} </button> :\r\n            <button> {Mode.ONE} </button>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapState2Props(state) {\r\n  return {\r\n    mode: state.mode.mode,\r\n  };\r\n}\r\n\r\nconst mapDispatch2Props = {\r\n  modeChange,\r\n};\r\n\r\nexport default connect(mapState2Props, mapDispatch2Props)(SongMode);","import './App.css';\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { Status, Mode } from \"./consts\";\nimport {\n  toggleStar,\n  none,\n  play,\n  pause,\n  resume,\n  ticking,\n  modeChange,\n} from './actions';\nimport reducers from \"./reducers\";\nimport Song from './component/Song';\nimport SongBar from './component/SongBar';\nimport Controler from './component/Controler';\nimport SongMode from './component/SongMode';\n\nconst store = createStore(\n  reducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\n// store.dispatch(play(1));\n\n// store.dispatch(pause());\n\n// store.dispatch(resume());\n\n// store.dispatch(ticking());\n\n// store.dispatch(none());\n\n// store.dispatch(toggleStar(2));\n\n// store.dispatch(\n//   modeChange({mode: Mode.ALL})\n// );\n\n// console.log(store.getState());\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <div className=\"player\">\n        <div className=\"songArea\">\n          <Song num={0} />\n          <Song num={1} />\n          <Song num={2} />\n          <Song num={3} />\n          <Song num={4} />\n          <Song num={5} />\n          <Song num={6} />\n          <Song num={7} />\n          <Song num={8} />\n        </div>\n        <SongBar />\n        <div className=\"controlPanel\">\n          <SongMode />\n          <Controler />\n        </div>\n      </div>\n    </Provider>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// <React.StrictMode>\n// </React.StrictMode>,\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}