(this.webpackJsonpplayer=this.webpackJsonpplayer||[]).push([[0],{17:function(t,n,e){},18:function(t,n,e){},25:function(t,n,e){},26:function(t,n,e){},27:function(t,n,e){},28:function(t,n,e){},29:function(t,n,e){"use strict";e.r(n);var s=e(1),c=e(0),a=e(6),i=e.n(a),r=(e(17),e(18),e(5)),o=e(4),u="NONE",l="PLAYING",d="PAUSING",j="ALL",b="RANDOM",g="ONE",O="NONE",m="PLAY",h="PAUSE",x="RESUME",v="TICKING";function S(t){return{type:m,index:t}}function f(){return{type:h}}function p(){return{type:x}}var N="MODE_CHANGE";function y(t){return{type:N,payload:t}}var C=e(2),E=e(3),k=[{name:"song1",artist:"artist1",isStar:!1,length:180},{name:"song2",artist:"artist2",isStar:!1,length:195},{name:"song3",artist:"artist3",isStar:!1,length:212},{name:"song4",artist:"artist4",isStar:!1,length:168},{name:"song5",artist:"artist5",isStar:!1,length:245},{name:"song6",artist:"artist6",isStar:!1,length:200},{name:"song7",artist:"artist7",isStar:!1,length:197},{name:"song8",artist:"artist8",isStar:!1,length:182},{name:"song9",artist:"artist9",isStar:!1,length:204}];var _={index:0,status:u,second:null};var T={mode:g};var A=Object(r.b)({songs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TOGGLE_STAR":return[].concat(Object(E.a)(t.slice(0,n.index)),[Object(C.a)(Object(C.a)({},t[n.index]),{},{isStar:!t[n.index].isStar})],Object(E.a)(t.slice(n.index+1)));default:return t}},currentSong:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return Object(C.a)(Object(C.a)({},t),{},{status:u,second:null});case m:return{index:n.index,status:l,second:0};case h:return Object(C.a)(Object(C.a)({},t),{},{status:d});case x:return Object(C.a)(Object(C.a)({},t),{},{status:l});case v:return Object(C.a)(Object(C.a)({},t),{},{second:t.second+1});default:return t}},mode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N:return Object(C.a)(Object(C.a)({},t),n.payload);default:return t}}});e(25);var w={play:S,pause:f,resume:p,toggleStar:function(t){return{type:"TOGGLE_STAR",index:t}}},D=Object(o.b)((function(t){return{songs:t.songs,index:t.currentSong.index,status:t.currentSong.status}}),w)((function(t){var n=t.songs,e=t.status,c=t.pause,a=t.play,i=t.resume,r=t.num,o=t.index,u=t.toggleStar;return Object(s.jsxs)("div",{className:"song playButton",children:[o!==r?Object(s.jsx)("div",{className:"button playSign sign",onClick:a.bind(this,r)}):e===l?Object(s.jsx)("div",{className:"button current pauseSign sign",onClick:c}):e===d?Object(s.jsx)("div",{className:"button current playSign sign",onClick:i}):Object(s.jsx)("div",{className:"button current playSign sign",onClick:a.bind(this,r)}),Object(s.jsx)("div",{className:"starButton",onClick:u.bind(this,r),"data-star":n[r].isStar?"\u2605":"\u2606"}),Object(s.jsxs)("div",{className:"songsData",children:[Object(s.jsxs)("div",{className:"songData",children:[" ",n[r].name," "]}),Object(s.jsxs)("div",{className:"songData",children:[" ",n[r].artist," "]})]})]})})),I=(e(26),function(t){return"".concat(Math.floor(t/60),":").concat(1===(""+t%60).length?"0"+t%60:t%60)});var L={none:function(){return{type:O}},play:S,ticking:function(){return{type:v}},modeChange:y},P=Object(o.b)((function(t){return{songs:t.songs,mode:t.mode.mode,sec:t.currentSong.second,index:t.currentSong.index,status:t.currentSong.status,length:t.songs[t.currentSong.index].length}}),L)((function(t){var n=t.sec,e=t.index,a=t.status,i=t.length,r=t.ticking,o=t.none,u=t.mode,d=t.play,O=t.songs;return Object(c.useEffect)((function(){var t;return a===l&&(t=setInterval((function(){r()}),1e3)),function(){clearInterval(t)}}),[a]),Object(c.useEffect)((function(){n>i&&(u===g&&o(),u===j&&(e===O.length-1?o():d(e+1)),u===b&&d(function(t,n){var e=Object(E.a)(Array(t).keys());return[].concat(Object(E.a)(e.slice(0,n)),Object(E.a)(e.slice(n+1)))[~~(Math.random()*(t-1))]}(O.length,e)))}),[n]),Object(s.jsxs)("div",{className:"SongBar",children:[Object(s.jsx)("div",{className:"bar",children:Object(s.jsx)("div",{className:"progress",style:{width:"".concat(n/i*100,"%")}})}),Object(s.jsx)("div",{className:"passTime",children:I(n)}),Object(s.jsx)("div",{className:"lastTime",children:"-"+I(i-n)})]})})),G=(e(27),function(t,n){var e=Object(E.a)(Array(t).keys());return[].concat(Object(E.a)(e.slice(0,n)),Object(E.a)(e.slice(n+1)))[~~(Math.random()*(t-1))]});var M={play:S,pause:f,resume:p},R=Object(o.b)((function(t){return{songs:t.songs,mode:t.mode.mode,index:t.currentSong.index,status:t.currentSong.status}}),M)((function(t){var n=t.status,e=t.pause,c=t.play,a=t.resume,i=t.index,r=t.mode,o=t.songs;return Object(s.jsxs)("div",{className:"Controller",children:[Object(s.jsx)("div",{className:"lastSong bigSign",onClick:function(){c(r===b?G(o.length,i):0===i?o.length-1:i-1)}}),n===l?Object(s.jsx)("div",{className:"bigPauseSign bigSign",onClick:e}):n===d?Object(s.jsx)("div",{className:"bigPlaySign bigSign",onClick:a}):Object(s.jsx)("div",{className:"bigPlaySign bigSign",onClick:c.bind(this,i)}),Object(s.jsx)("div",{className:"nextSong bigSign",onClick:function(){r===b?c(G(o.length,i)):i===o.length-1?c(0):c(i+1)}})]})}));e(28);var B={modeChange:y},U=Object(o.b)((function(t){return{mode:t.mode.mode}}),B)((function(t){var n=t.mode,e=t.modeChange;return Object(s.jsx)("div",{children:n===g?Object(s.jsxs)("button",{onClick:e.bind(this,{mode:j}),children:[" ",g," "]}):n===j?Object(s.jsxs)("button",{onClick:e.bind(this,{mode:b}),children:[" ",j," "]}):n===b?Object(s.jsxs)("button",{onClick:e.bind(this,{mode:g}),children:[" ",b," "]}):Object(s.jsxs)("button",{children:[" ",g," "]})})})),F=Object(r.c)(A,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function X(){return Object(s.jsx)(o.a,{store:F,children:Object(s.jsxs)("div",{className:"player",children:[Object(s.jsxs)("div",{className:"songArea",children:[Object(s.jsx)(D,{num:0}),Object(s.jsx)(D,{num:1}),Object(s.jsx)(D,{num:2}),Object(s.jsx)(D,{num:3}),Object(s.jsx)(D,{num:4}),Object(s.jsx)(D,{num:5}),Object(s.jsx)(D,{num:6}),Object(s.jsx)(D,{num:7}),Object(s.jsx)(D,{num:8})]}),Object(s.jsx)(P,{}),Object(s.jsxs)("div",{className:"controlPanel",children:[Object(s.jsx)(U,{}),Object(s.jsx)(R,{})]})]})})}var J=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,30)).then((function(n){var e=n.getCLS,s=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),s(t),c(t),a(t),i(t)}))};i.a.render(Object(s.jsx)(X,{}),document.getElementById("root")),J()}},[[29,1,2]]]);
//# sourceMappingURL=main.a0514b89.chunk.js.map